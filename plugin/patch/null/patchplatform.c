/*===========================================================================*
 *--- Include files ---------------------------------------------------------*
 *===========================================================================*/
#include <rwcore.h>
#include <rpworld.h>

#include "rpplugin.h"
#include "rpdbgerr.h"

#include "patch.h"

/*===========================================================================*
 *--- Private Types ---------------------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Private Global Variables ----------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Private Defines -------------------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Local Types -----------------------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Local Global Variables ------------------------------------------------*
 *===========================================================================*/
/*===========================================================================*
 *--- Local Defines ---------------------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Local functions -------------------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Private functions -----------------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Plugin Engine Functions -----------------------------------------------*
 *===========================================================================*/

/*===========================================================================*
 *--- Plugin API Functions --------------------------------------------------*
 *===========================================================================*/

/**
 * \ingroup rppatchnull
 * \ref RpPatchGetNullPipeline
 *
 * Returns one of the RpPatch internal platform specific pipelines.
 *
 * The patch plugin must be attached before using this function.
 *
 * \param nullPipeline Pointer to the atomic.
 *
 * \return The \ref RxPipeline requested from the plugin, or NULL if the
 * pipeline wasn't constructed.
 *
 * \see RpPatchAtomicSetType
 * \see RpPatchAtomicGetType
 */
RxPipeline *
RpPatchGetNullPipeline( RpPatchNullPipeline nullPipeline )
{
    RxPipeline *pipeline;

    RWAPIFUNCTION(RWSTRING("RpPatchGetNullPipeline"));
    RWASSERT(0 < _rpPatchGlobals.module.numInstances);
    RWASSERT(rpNAPATCHNULLPIPELINE < nullPipeline);
    RWASSERT(rpPATCHNULLPIPELINEMAX > nullPipeline);

    pipeline = _rpPatchPipeline(nullPipeline);

    RWRETURN(pipeline);
}


